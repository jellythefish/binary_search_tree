!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=107)}([function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(66))},function(e,t,n){var r=n(0),i=n(40),o=n(4),s=n(42),a=n(48),u=n(75),c=i("wks"),d=r.Symbol,l=u?d:d&&d.withoutSetter||s;e.exports=function(e){return o(c,e)||(a&&o(d,e)?c[e]=d[e]:c[e]=l("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(2);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(6),i=n(36),o=n(5),s=n(18),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(0),i=n(16).f,o=n(13),s=n(14),a=n(24),u=n(69),c=n(28);e.exports=function(e,t){var n,d,l,h,p,f=e.target,v=e.global,_=e.stat;if(n=v?r:_?r[f]||a(f,{}):(r[f]||{}).prototype)for(d in t){if(h=t[d],l=e.noTargetGet?(p=i(n,d))&&p.value:n[d],!c(v?d:f+(_?".":"#")+d,e.forced)&&void 0!==l){if(typeof h==typeof l)continue;u(h,l)}(e.sham||l&&l.sham)&&o(h,"sham",!0),s(n,d,h,e)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(28),s=n(14),a=n(4),u=n(9),c=n(77),d=n(18),l=n(2),h=n(51),p=n(43).f,f=n(16).f,v=n(7).f,_=n(30).trim,m=i.Number,g=m.prototype,y="Number"==u(h(g)),x=function(e){var t,n,r,i,o,s,a,u,c=d(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=_(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(s=(o=c.slice(2)).length,a=0;a<s;a++)if((u=o.charCodeAt(a))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(o("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var C,b=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof b&&(y?l((function(){g.valueOf.call(n)})):"Number"!=u(n))?c(new m(x(t)),n,b):x(t)},S=r?p(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),L=0;S.length>L;L++)a(m,C=S[L])&&!a(b,C)&&v(b,C,f(m,C));b.prototype=g,g.constructor=b,s(i,"Number",b)}},function(e,t,n){var r=n(8),i=n(82);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(8),i=n(3),o=n(47),s=n(46),a=n(19),u=n(17),c=n(74),d=n(1),l=n(76),h=n(29),p=l("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),_=[].slice,m=Math.max;r({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var n,r,d,l=u(this),h=a(l.length),p=s(e,h),f=s(void 0===t?h:t,h);if(o(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return _.call(l,p,f);for(r=new(void 0===n?Array:n)(m(f-p,0)),d=0;p<f;p++,d++)p in l&&c(r,d,l[p]);return r.length=d,r}})},function(e,t,n){var r=n(6),i=n(7),o=n(21);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),i=n(13),o=n(4),s=n(24),a=n(25),u=n(38),c=u.get,d=u.enforce,l=String(String).split("String");(e.exports=function(e,t,n,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),d(n).source=l.join("string"==typeof t?t:"")),e!==r?(u?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},function(e,t,n){var r=n(71),i=n(0),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(6),i=n(67),o=n(21),s=n(17),a=n(18),u=n(4),c=n(36),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=a(t,!0),c)try{return d(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(35),i=n(22);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(45),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(0),i=n(3),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){var r=n(0),i=n(13);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(37),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(2),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(6),i=n(2),o=n(4),s=Object.defineProperty,a={},u=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,d=o(t,0)?t[0]:u,l=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,d,l)}))}},function(e,t,n){var r=n(22),i="["+n(31)+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),a=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:a(1),end:a(2),trim:a(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(8),i=n(53).find,o=n(85),s=n(29),a=!0,u=s("find");"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a||!u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t,n){var r=n(20);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r={};r[n(1)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(2),i=n(9),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(6),i=n(2),o=n(23);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(0),i=n(24),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r,i,o,s=n(68),a=n(0),u=n(3),c=n(13),d=n(4),l=n(39),h=n(26),p=a.WeakMap;if(s){var f=new p,v=f.get,_=f.has,m=f.set;r=function(e,t){return m.call(f,e,t),t},i=function(e){return v.call(f,e)||{}},o=function(e){return _.call(f,e)}}else{var g=l("state");h[g]=!0,r=function(e,t){return c(e,g,t),t},i=function(e){return d(e,g)?e[g]:{}},o=function(e){return d(e,g)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(40),i=n(42),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(41),i=n(37);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(44),i=n(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(4),i=n(17),o=n(72).indexOf,s=n(26);e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(45),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(9);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(2);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r,i,o=n(0),s=n(50),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(15);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,i=n(5),o=n(80),s=n(27),a=n(26),u=n(52),c=n(23),d=n(39),l=d("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;f=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[l]=e):n=f(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(15);e.exports=r("document","documentElement")},function(e,t,n){var r=n(33),i=n(35),o=n(83),s=n(19),a=n(84),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,d=4==e,l=6==e,h=5==e||l;return function(p,f,v,_){for(var m,g,y=o(p),x=i(y),C=r(f,v,3),b=s(x.length),S=0,L=_||a,w=t?L(p,b):n?L(p,0):void 0;b>S;S++)if((h||S in x)&&(g=C(m=x[S],S,y),e))if(t)w[S]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:u.call(w,m)}else if(d)return!1;return l?-1:c||d?d:w}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(34),i=n(14),o=n(86);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){var r=n(34),i=n(9),o=n(1)("toStringTag"),s="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){"use strict";var r,i,o,s,a=n(8),u=n(41),c=n(0),d=n(15),l=n(87),h=n(14),p=n(88),f=n(89),v=n(90),_=n(3),m=n(20),g=n(91),y=n(9),x=n(25),C=n(92),b=n(96),S=n(97),L=n(58).set,w=n(98),P=n(99),k=n(100),N=n(60),O=n(101),E=n(38),B=n(28),T=n(1),I=n(49),j=T("species"),F="Promise",A=E.get,M=E.set,H=E.getterFor(F),D=l,X=c.TypeError,q=c.document,R=c.process,W=d("fetch"),z=N.f,V=z,G="process"==y(R),K=!!(q&&q.createEvent&&c.dispatchEvent),Y=B(F,(function(){if(!(x(D)!==String(D))){if(66===I)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!D.prototype.finally)return!0;if(I>=51&&/native code/.test(D))return!1;var e=D.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[j]=t,!(e.then((function(){}))instanceof t)})),U=Y||!b((function(e){D.all(e).catch((function(){}))})),$=function(e){var t;return!(!_(e)||"function"!=typeof(t=e.then))&&t},J=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;w((function(){for(var i=t.value,o=1==t.state,s=0;r.length>s;){var a,u,c,d=r[s++],l=o?d.ok:d.fail,h=d.resolve,p=d.reject,f=d.domain;try{l?(o||(2===t.rejection&&te(e,t),t.rejection=1),!0===l?a=i:(f&&f.enter(),a=l(i),f&&(f.exit(),c=!0)),a===d.promise?p(X("Promise-chain cycle")):(u=$(a))?u.call(a,h,p):h(a)):p(i)}catch(e){f&&!c&&f.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Z(e,t)}))}},Q=function(e,t,n){var r,i;K?((r=q.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&k("Unhandled promise rejection",n)},Z=function(e,t){L.call(c,(function(){var n,r=t.value;if(ee(t)&&(n=O((function(){G?R.emit("unhandledRejection",r,e):Q("unhandledrejection",e,r)})),t.rejection=G||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){L.call(c,(function(){G?R.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,J(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw X("Promise can't be resolved itself");var i=$(n);i?w((function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,J(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};Y&&(D=function(e){g(this,D,F),m(e),r.call(this);var t=A(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){M(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(D.prototype,{then:function(e,t){var n=H(this),r=z(S(this,D));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=G?R.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&J(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=A(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},N.f=z=function(e){return e===D||e===o?new i(e):V(e)},u||"function"!=typeof l||(s=l.prototype.then,h(l.prototype,"then",(function(e,t){var n=this;return new D((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof W&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return P(D,W.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:Y},{Promise:D}),f(D,F,!1,!0),v(F),o=d(F),a({target:F,stat:!0,forced:Y},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:F,stat:!0,forced:u||Y},{resolve:function(e){return P(u&&this===o?D:this,e)}}),a({target:F,stat:!0,forced:U},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,o=O((function(){var n=m(t.resolve),o=[],s=0,a=1;C(e,(function(e){var u=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=O((function(){var i=m(t.resolve);C(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t){e.exports={}},function(e,t,n){var r,i,o,s=n(0),a=n(2),u=n(9),c=n(33),d=n(52),l=n(23),h=n(59),p=s.location,f=s.setImmediate,v=s.clearImmediate,_=s.process,m=s.MessageChannel,g=s.Dispatch,y=0,x={},C=function(e){if(x.hasOwnProperty(e)){var t=x[e];delete x[e],t()}},b=function(e){return function(){C(e)}},S=function(e){C(e.data)},L=function(e){s.postMessage(e+"",p.protocol+"//"+p.host)};f&&v||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return x[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},v=function(e){delete x[e]},"process"==u(_)?r=function(e){_.nextTick(b(e))}:g&&g.now?r=function(e){g.now(b(e))}:m&&!h?(o=(i=new m).port2,i.port1.onmessage=S,r=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(L)||"file:"===p.protocol?r="onreadystatechange"in l("script")?function(e){d.appendChild(l("script")).onreadystatechange=function(){d.removeChild(this),C(e)}}:function(e){setTimeout(b(e),0)}:(r=L,s.addEventListener("message",S,!1))),e.exports={set:f,clear:v}},function(e,t,n){var r=n(50);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(20),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),s=new b(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=y(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=u(e,t,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===c)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var c={};function d(){}function l(){}function h(){}var p={};p[i]=function(){return this};var f=Object.getPrototypeOf,v=f&&f(f(S([])));v&&v!==t&&n.call(v,i)&&(p=v);var _=h.prototype=d.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){var r;this._invoke=function(i,o){function s(){return new t((function(r,s){!function r(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(l).then((function(e){d.value=e,s(d)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}(i,o,r,s)}))}return r=r?r.then(s,s):s()}}function y(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return l.prototype=_.constructor=h,h.constructor=l,h[s]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},m(g.prototype),g.prototype[o]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new g(a(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},m(_),_[s]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(8),i=n(63);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){"use strict";var r=n(53).forEach,i=n(102),o=n(29),s=i("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(0),i=n(103),o=n(63),s=n(13);for(var a in i){var u=r[a],c=u&&u.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(e){c.forEach=o}}},function(e,t,n){},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(0),i=n(25),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(4),i=n(70),o=n(16),s=n(7);e.exports=function(e,t){for(var n=i(t),a=s.f,u=o.f,c=0;c<n.length;c++){var d=n[c];r(e,d)||a(e,d,u(t,d))}}},function(e,t,n){var r=n(15),i=n(43),o=n(73),s=n(5);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(0);e.exports=r},function(e,t,n){var r=n(17),i=n(19),o=n(46),s=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),d=o(s,c);if(e&&n!=n){for(;c>d;)if((a=u[d++])!=a)return!0}else for(;c>d;d++)if((e||d in u)&&u[d]===n)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(18),i=n(7),o=n(21);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},function(e,t,n){var r=n(48);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(2),i=n(1),o=n(49),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r=n(3),i=n(78);e.exports=function(e,t,n){var o,s;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&i(e,s),e}},function(e,t,n){var r=n(5),i=n(79);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(6),i=n(7),o=n(5),s=n(81);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,u=0;a>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(44),i=n(27);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(0),i=n(30).trim,o=n(31),s=r.parseInt,a=/^[+-]?0[Xx]/,u=8!==s(o+"08")||22!==s(o+"0x16");e.exports=u?function(e,t){var n=i(String(e));return s(n,t>>>0||(a.test(n)?16:10))}:s},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(3),i=n(47),o=n(1)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(1),i=n(51),o=n(7),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},function(e,t,n){"use strict";var r=n(34),i=n(55);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(0);e.exports=r.Promise},function(e,t,n){var r=n(14);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(7).f,i=n(4),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(15),i=n(7),o=n(1),s=n(6),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(5),i=n(93),o=n(19),s=n(33),a=n(94),u=n(95),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,d,l){var h,p,f,v,_,m,g,y=s(t,n,d?2:1);if(l)h=e;else{if("function"!=typeof(p=a(e)))throw TypeError("Target is not iterable");if(i(p)){for(f=0,v=o(e.length);v>f;f++)if((_=d?y(r(g=e[f])[0],g[1]):y(e[f]))&&_ instanceof c)return _;return new c(!1)}h=p.call(e)}for(m=h.next;!(g=m.call(h)).done;)if("object"==typeof(_=u(h,y,g.value,d))&&_&&_ instanceof c)return _;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r=n(1),i=n(57),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},function(e,t,n){var r=n(55),i=n(57),o=n(1)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(5);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(1)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r=n(5),i=n(20),o=n(1)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r,i,o,s,a,u,c,d,l=n(0),h=n(16).f,p=n(9),f=n(58).set,v=n(59),_=l.MutationObserver||l.WebKitMutationObserver,m=l.process,g=l.Promise,y="process"==p(m),x=h(l,"queueMicrotask"),C=x&&x.value;C||(r=function(){var e,t;for(y&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},y?s=function(){m.nextTick(r)}:_&&!v?(a=!0,u=document.createTextNode(""),new _(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):g&&g.resolve?(c=g.resolve(void 0),d=c.then,s=function(){d.call(c,r)}):s=function(){f.call(l,r)}),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(e,t,n){var r=n(5),i=n(3),o=n(60);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(8),i=n(105);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(0),i=n(30).trim,o=n(31),s=r.parseFloat,a=1/s(o+"-0")!=-1/0;e.exports=a?function(e){var t=i(String(e)),n=s(t);return 0===n&&"-"==t.charAt(0)?-0:n}:s},function(e,t,n){n(8)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";n.r(t);n(65),n.p,n.p,n.p,n.p,n(12),n(10),n(11);var r,i,o,s=document.querySelector(".switch__rectangle"),a=document.querySelector(".switch__circle"),u=document.querySelector(".avl__title"),c=document.querySelector(".basic-operations__avl-status"),d=Number.parseInt(getComputedStyle(a).getPropertyValue("left").slice(0,-2)),l=!1;function h(e){e.preventDefault();var t=e.clientX-r;(i=o+t)>=0&&i<=59&&(a.style.left=i+"px")}a.ondragstart=function(){return!1};var p,f,v,_=document.querySelector(".theory"),m=document.querySelector(".theory__button"),g=!1;function y(e){e.preventDefault();var t=e.clientX-p;(f=v-t)>=-397&&f<=0&&(_.style.right=f+"px")}m.ondragstart=function(){return!1};var x,C,b,S=document.querySelector(".pseudocode"),L=document.querySelector(".pseudocode__button"),w=!1;function P(e){e.preventDefault();var t=e.clientX-x;(C=b-t)>=-386&&C<=0&&(S.style.right=C+"px")}L.ondragstart=function(){return!1};n(32),n(54),n(56),n(61);function k(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){k(o,r,i,s,a,"next",e)}function a(e){k(o,r,i,s,a,"throw",e)}s(void 0)}))}}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t,this._treeCanvas=n,this._pseudocode=r}var t,n,r,i,o;return t=e,(n=[{key:"insert",value:(o=N(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:this.root,t){e.next=3;break}throw new Error("Не указана вершина для вставки");case 3:if(this.root){e.next=9;break}return this.root=t,this.root.type="root",this._pseudocode.steps.push({index:0,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:9,lastStep:1,currentNode:n,nodeToInsert:{node:this.root}}),e.abrupt("return");case 9:if(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:n}),!(t.key<n.key)){e.next=15;break}this._pseudocode.steps.push({index:2,lastStep:0,currentNode:n}),n.leftChild?(this._pseudocode.steps.push({index:4,lastStep:0,currentNode:n}),this.insert(t,n.leftChild)):(n.leftChild=t,n.leftChild.type="node",n.leftChild.parent=n,this._pseudocode.steps.push({index:3,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:9,lastStep:1,currentNode:n,nodeToInsert:{node:n,childSide:"left"}})),e.next=24;break;case 15:if(t.key!==n.key){e.next=22;break}throw this._pseudocode.steps.push({index:5,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:9,lastStep:1,currentNode:n}),this._pseudocode.renderOperation(0,"insert"),new Error("Данный элемент уже присутствует в дереве");case 22:this._pseudocode.steps.push({index:6,lastStep:0,currentNode:n}),n.rightChild?(this._pseudocode.steps.push({index:8,lastStep:0,currentNode:n}),this.insert(t,n.rightChild)):(n.rightChild=t,n.rightChild.type="node",n.rightChild.parent=n,this._pseudocode.steps.push({index:7,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:9,lastStep:1,currentNode:n,nodeToInsert:{node:n,childSide:"right"}}));case 24:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root;if(!e)throw new Error("Не указана вершина для поиска.");if(!this.root)throw new Error("В дереве нет ни одной вершины.");if(this._pseudocode.steps.push({index:0,lastStep:0,currentNode:t}),e===t.key)return this._pseudocode.steps.push({index:1,lastStep:0,currentNode:t}),this._pseudocode.steps.push({index:8,lastStep:1,currentNode:t}),t;if(e<t.key){if(this._pseudocode.steps.push({index:2,lastStep:0,currentNode:t}),t.leftChild)return this._pseudocode.steps.push({index:4,lastStep:0,currentNode:t}),this.find(e,t.leftChild);this._pseudocode.steps.push({index:3,lastStep:0,currentNode:t}),this._pseudocode.steps.push({index:8,lastStep:1,currentNode:t})}else{if(!(e>t.key))return null;if(this._pseudocode.steps.push({index:5,lastStep:0,currentNode:t}),t.rightChild)return this._pseudocode.steps.push({index:7,lastStep:0,currentNode:t}),this.find(e,t.rightChild);this._pseudocode.steps.push({index:6,lastStep:0,currentNode:t}),this._pseudocode.steps.push({index:8,lastStep:1,currentNode:t})}}},{key:"remove",value:(i=N(regeneratorRuntime.mark((function e(t){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:this.root,t){e.next=3;break}throw new Error("Не указана вершина для удаления");case 3:if(this.root){e.next=5;break}throw new Error("В дереве нет ни одной вершины");case 5:if(this._pseudocode.steps.push({index:0,lastStep:0,currentNode:n}),t!==n.key){e.next=75;break}if(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:n}),n.leftChild||n.rightChild){e.next=22;break}if(this._pseudocode.steps.push({index:2,lastStep:0,currentNode:n}),n!==this.root){e.next=16;break}return this.root=null,this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:n}),e.next=15,this._pseudocode.renderOperation(0,"remove");case 15:return e.abrupt("return");case 16:return this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:n}),n===n.parent.rightChild?n.parent.rightChild=null:n.parent.leftChild=null,e.next=20,this._pseudocode.renderOperation(0,"remove");case 20:e.next=73;break;case 22:if(n.leftChild){e.next=39;break}if(this._pseudocode.steps.push({index:3,lastStep:0,currentNode:n}),n!==this.root){e.next=32;break}return this.root=n.rightChild,this.root.type="root",this.root.parent=null,this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:n}),e.next=31,this._pseudocode.renderOperation(0,"remove");case 31:return e.abrupt("return");case 32:return this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:n}),n===n.parent.rightChild?n.parent.rightChild=n.rightChild:n.parent.leftChild=n.rightChild,n.rightChild.parent=n.parent,e.next=37,this._pseudocode.renderOperation(0,"remove");case 37:e.next=73;break;case 39:if(n.rightChild){e.next=56;break}if(this._pseudocode.steps.push({index:4,lastStep:0,currentNode:n}),n!==this.root){e.next=49;break}return this.root=n.leftChild,this.root.type="root",this.root.parent=null,this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:n}),e.next=48,this._pseudocode.renderOperation(0,"remove");case 48:return e.abrupt("return");case 49:return this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:n}),n===n.parent.leftChild?n.parent.leftChild=n.leftChild:n.parent.rightChild=n.leftChild,n.leftChild.parent=n.parent,e.next=54,this._pseudocode.renderOperation(0,"remove");case 54:e.next=73;break;case 56:if(this._pseudocode.steps.push({index:5,lastStep:0,currentNode:n}),n.rightChild.leftChild){e.next=64;break}return this._pseudocode.steps.push({index:6,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n,nodeToRemove:{node:n,mode:"rightChild->parent"}}),e.next=62,this._pseudocode.renderOperation(0,"remove");case 62:e.next=73;break;case 64:for(this._pseudocode.steps.push({index:7,lastStep:0,currentNode:n.rightChild.leftChild}),r=n.rightChild.leftChild,this._pseudocode.steps.push({index:8,lastStep:0,currentNode:r});r.leftChild;)r=r.leftChild,this._pseudocode.steps.push({index:8,lastStep:0,currentNode:r});return i=r.key,this._pseudocode.steps.push({index:9,lastStep:0,nodeToChange:{node:n,newKey:i}}),this._pseudocode.steps.push({index:10,lastStep:0,currentNode:r}),e.next=73,this.remove(r.key,r);case 73:e.next=102;break;case 75:if(!(t<n.key)){e.next=88;break}if(this._pseudocode.steps.push({index:11,lastStep:0,currentNode:n}),!n.leftChild){e.next=82;break}return this._pseudocode.steps.push({index:13,lastStep:0,currentNode:n}),e.next=81,this.remove(t,n.leftChild);case 81:return e.abrupt("return");case 82:return this._pseudocode.steps.push({index:12,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n}),e.next=86,this._pseudocode.renderOperation(0,"remove");case 86:e.next=102;break;case 88:if(!(t>n.key)){e.next=101;break}if(this._pseudocode.steps.push({index:14,lastStep:0,currentNode:n}),!n.rightChild){e.next=95;break}return this._pseudocode.steps.push({index:16,lastStep:0,currentNode:n}),e.next=94,this.remove(t,n.rightChild);case 94:return e.abrupt("return");case 95:return this._pseudocode.steps.push({index:15,lastStep:0,currentNode:n}),this._pseudocode.steps.push({index:17,lastStep:1,currentNode:n}),e.next=99,this._pseudocode.renderOperation(0,"remove");case 99:e.next=102;break;case 101:throw new Error("В дереве нет данной вершины");case 102:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"inOrderTraversal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(!this.root)throw new Error("В дереве нет ни одной вершины");this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e}),e.leftChild&&(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:e.leftChild}),this.inOrderTraversal(e.leftChild)),this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:3,lastStep:0,currentNode:e,nodeToTraverse:e}),this._pseudocode.steps.push({index:4,lastStep:0,currentNode:e}),e.rightChild&&(this._pseudocode.steps.push({index:5,lastStep:0,currentNode:e.rightChild}),this.inOrderTraversal(e.rightChild)),this._pseudocode.steps.push({index:6,lastStep:0,currentNode:e.parent})}},{key:"preOrderTraversal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(!this.root)throw new Error("В дереве нет ни одной вершины");this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e,nodeToTraverse:e}),this._pseudocode.steps.push({index:1,lastStep:0,currentNode:e}),e.leftChild&&(this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e.leftChild}),this.preOrderTraversal(e.leftChild)),this._pseudocode.steps.push({index:3,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:4,lastStep:0,currentNode:e}),e.rightChild&&(this._pseudocode.steps.push({index:5,lastStep:0,currentNode:e.rightChild}),this.preOrderTraversal(e.rightChild)),this._pseudocode.steps.push({index:6,lastStep:0,currentNode:e.parent})}},{key:"postOrderTraversal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(!this.root)throw new Error("В дереве нет ни одной вершины");this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e}),e.leftChild&&(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:e.leftChild}),this.postOrderTraversal(e.leftChild)),this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:3,lastStep:0,currentNode:e}),e.rightChild&&(this._pseudocode.steps.push({index:4,lastStep:0,currentNode:e.rightChild}),this.postOrderTraversal(e.rightChild)),this._pseudocode.steps.push({index:5,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:6,lastStep:0,currentNode:e,nodeToTraverse:e})}},{key:"findMin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(!this.root)throw new Error("В дереве нет ни одной вершины");return this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e}),e.leftChild?(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:e.leftChild}),this.findMin(e.leftChild)):(this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:3,lastStep:1,currentNode:e}),e)}},{key:"findMax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root;if(!this.root)throw new Error("В дереве нет ни одной вершины");return this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e}),e.rightChild?(this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e.rightChild}),this.findMax(e.rightChild)):(this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:3,lastStep:1,currentNode:e}),e)}},{key:"findPredecessor",value:function(e){if(e)return this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e}),e.leftChild?(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:e.leftChild}),this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e.leftChild}),function e(t,n){return n.steps.push({index:3,lastStep:0,currentNode:t}),t.rightChild?(n.steps.push({index:4,lastStep:0,currentNode:t.rightChild}),e(t.rightChild,n)):(n.steps.push({index:5,lastStep:0,currentNode:t}),n.steps.push({index:7,lastStep:1,currentNode:t}),t)}(e.leftChild,this._pseudocode)):(this._pseudocode.steps.push({index:6,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:7,lastStep:1,currentNode:e}),e)}},{key:"findSuccessor",value:function(e){if(e)return this._pseudocode.steps.push({index:0,lastStep:0,currentNode:e}),e.rightChild?(this._pseudocode.steps.push({index:1,lastStep:0,currentNode:e.rightChild}),this._pseudocode.steps.push({index:2,lastStep:0,currentNode:e.rightChild}),function e(t,n){return n.steps.push({index:3,lastStep:0,currentNode:t}),t.leftChild?(n.steps.push({index:4,lastStep:0,currentNode:t.leftChild}),e(t.leftChild,n)):(n.steps.push({index:5,lastStep:0,currentNode:t}),n.steps.push({index:7,lastStep:1,currentNode:t}),t)}(e.rightChild,this._pseudocode)):(this._pseudocode.steps.push({index:6,lastStep:0,currentNode:e}),this._pseudocode.steps.push({index:7,lastStep:1,currentNode:e}),e)}}])&&O(t.prototype,n),r&&O(t,r),e}();var B=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===t)throw Error("Не указан ключ вершины");this.key=t,this.type=null,this.leftChild=null,this.rightChild=null,this.parent=null,this.element=null};n(62),n(64);function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._canvas=t,this._canvasWidth=1440,this._canvasHeight=660,this._centerAlignmentOfNode=12.5,this._verticalDistance=100,this._rootY=20,this._sunWidth=70,this._sunHeight=70,this._appleWidth=50,this._appleHeight=50,this._edgeWidth=35,this._nodeKeyPositionXApple="48%",this._nodeKeyPositionYApple="63%",this._nodeKeyPositionXSun="50%",this._nodeKeyPositionYSun="52%",this._edgeDegreeAlignmenet=90,this._edgeVerticalAlignment=25,this._traversalNodesLineY=600,this.steps=[],this.currentOperation=null,this.latestInsertedEdge=null,this.latestInsertedNode=null,this.traversedNodeOffset=null,this.traversedNodeTotalOffset=100}var t,n,r;return t=e,(n=[{key:"clearCanvas",value:function(){this._canvas.clear()}},{key:"changeNodeKey",value:function(e,t){var n=e.element.querySelector(".tree__node-key");n&&(n.textContent=t)}},{key:"renderTree",value:function(e){if(!e)return this.clearCanvas();"root"===e.type?(this.clearCanvas(),this.renderElement(e)):e===e.parent.rightChild?this.renderElement(e.parent,"right"):this.renderElement(e.parent,"left"),e.leftChild&&this.renderTree(e.leftChild),e.rightChild&&this.renderTree(e.rightChild)}},{key:"renderTreeState",value:function(e){var t,n,r=this;e!==this.steps.length-1&&this.removeLatestInsertOperation(),this.steps.forEach((function(e){return r.unhighlightNode(e.currentNode)}));for(var i=0;i<=e;++i){var o=this.steps[i];if(t=o.currentNode,n=o.nodeToInsert)return this.renderElement(n.node,n.childSide)}t&&this.highlightNode(t)}},{key:"removeLatestInsertOperation",value:function(){this.latestInsertedEdge&&this.latestInsertedEdge.remove(),this.latestInsertedNode&&this.latestInsertedNode.remove(),this.latestInsertedEdge=null,this.latestInsertedNode=null}},{key:"renderElement",value:function(e,t){if(t){var n=Number.parseInt(e.element.getAttribute("y")),r=Number.parseInt(e.element.getAttribute("x"));"root"!==e.type&&(r-=this._centerAlignmentOfNode);var i=n+this._verticalDistance;if("right"===t){var o=r+this._canvasWidth/Math.pow(2,i/this._verticalDistance+1);this.insertEdge(r+this._centerAlignmentOfNode,n,o,i,this._edgeWidth,e,e.rightChild.key,t),e.rightChild.element=this.insertNode(o,i,e.rightChild.key,"apple")}else{var s=r-this._canvasWidth/Math.pow(2,i/this._verticalDistance+1);this.insertEdge(r-this._centerAlignmentOfNode,n,s,i,this._edgeWidth,e,e.leftChild.key,t),e.leftChild.element=this.insertNode(s,i,e.leftChild.key,"apple")}}else e.element=this.insertNode((this._canvasWidth-this._sunWidth)/2,this._rootY,e.key,"sun")}},{key:"renderTraversedNode",value:function(e,t){var n,r=e.element,i=document.querySelectorAll(".node").length;console.log(i),this.traversedNodeOffset||(this.traversedNodeOffset=1240/i),"inorder"===t?685!==(n=Number.parseInt(r.getAttribute("x")))&&(n-=this._centerAlignmentOfNode):"preorder"!==t&&"postorder"!==t||(n=this.traversedNodeTotalOffset,this.traversedNodeTotalOffset+=this.traversedNodeOffset),this.insertNode(n,this._traversalNodesLineY,e.key,"apple",!0)}},{key:"clearTraversedNodes",value:function(){this.traversedNodeOffset=null,this.traversedNodeTotalOffset=100,document.querySelectorAll(".traversed").forEach((function(e){return e.remove()}))}},{key:"insertNode",value:function(e,t,n,r){var i,o,s,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"apple"===r?(i=this._canvas.paper.svg(e+this._centerAlignmentOfNode,t,this._appleWidth,this._appleHeight),o=this._canvas.paper.image("./images/apple.svg",0,0,this._appleWidth,this._appleHeight),a?o.attr({class:"tree__apple tree__apple_fast-mode"}):o.attr({class:"tree__apple"}),s=this._canvas.paper.text(this._nodeKeyPositionXApple,this._nodeKeyPositionYApple,n)):((o=this._canvas.paper.image("./images/sun.svg",0,0,this._sunWidth,this._sunHeight)).attr({class:"tree__sun"}),i=this._canvas.paper.svg(e,t,this._sunWidth,this._sunHeight),s=this._canvas.paper.text(this._nodeKeyPositionXSun,this._nodeKeyPositionYSun,n)),i.attr({id:n,class:a?"node traversed":"node",style:"overflow: auto;"}),a?s.attr({class:"tree__node-key tree__node-key_fast-mode"}):s.attr({class:"tree__node-key"}),s.attr({fill:"white","dominant-baseline":"middle","text-anchor":"middle"}),i.append(o),i.append(s),this.latestInsertedNode=i.node;var u=document.getElementById(n);return u}},{key:"removeNodeAndIncidentEdge",value:function(e){if(e){var t=document.getElementById("".concat(e.key));t&&t.remove();var n=document.getElementById("e".concat(e.key));n&&n.remove()}}},{key:"insertEdge",value:function(e,t,n,r,i,o,s,a){var u=(e+n)/2,c=(t+r)/2,d=Math.round(Math.sqrt(Math.pow(t-r,2)+Math.pow(e-n,2))),l=Number.parseInt(180*Math.atan((r-t)/(n-e))/3.14159)+this._edgeDegreeAlignmenet,h=this._canvas.image("./images/branch-".concat(a,".svg"),u+i/2,c-d/2+this._edgeVerticalAlignment,i,d);h.insertBefore(o.element);var p=l;n>e&&(p=l-180),h.attr({id:"e".concat(s),class:"edge"}),h.transform("r".concat(p)),this.latestInsertedEdge=h.node,this._animateEdgeInsert(h.node,i,d)}},{key:"_animateEdgeInsert",value:function(e,t,n){e.setAttribute("width",0),e.setAttribute("height",0);var r=0,i=0,o=setInterval((function(){Number.parseInt(e.getAttribute("width"))===t?clearInterval(o):(r++,e.setAttribute("width",r))}),10),s=setInterval((function(){Number.parseInt(e.getAttribute("height"))===n?clearInterval(s):(i++,e.setAttribute("height",i))}),10)}},{key:"highlightNode",value:function(e){if(e){var t,n,r,i=document.getElementById("".concat(e.key)),o=Snap(i),s=i.getAttribute("width");i.getElementsByTagName("defs")[0].innerHTML='\n            <filter id="f1" x="-30%" y="-30%" width="200%" height="200%"> \n                <feGaussianBlur in="SourceGraphic" stdDeviation="3">\n                </feGaussianBlur> \n            </filter>\n        ',"50"===s?(t=25,n=30,r=s/2+5):(t=s/2,n=s/2,r=s/2);var a=this._canvas.circle(t,n,r);a.attr({filter:"url(#f1)",fill:"#68432D"}),a.prependTo(o)}}},{key:"unhighlightNode",value:function(e){if(e){var t,n=e.element;n&&(t=n.getElementsByTagName("circle")[0]),t&&t.remove()}}}])&&T(t.prototype,n),r&&T(t,r),e}(),j=[{text:"Если у дерева нет корня, вставляем вершину и завершаем алгоритм.",indentLevel:0,highlightColor:"#cf8859"},{text:"Ключ вставляемой вершины меньше, равен или больше ключа в текущей вершине?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Если <: у текущей вершины есть левый ребенок?",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: вставляем вершину в качестве левого ребенка текущей вершины.",indentLevel:2,highlightColor:"#fcd462"},{text:"Есть: текущей вершиной становится левый ребенок текущей вершины",indentLevel:2,highlightColor:"#fcd462"},{text:"Если ==: данная вершина уже находится в дереве.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Если >: у текущей вершины есть правый ребенок?",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: вставляем вершину в качестве правого ребенка текущей вершины.",indentLevel:2,highlightColor:"#fcd462"},{text:"Есть: текущей вершиной становится правый ребенок текущей вершины.",indentLevel:2,highlightColor:"#fcd462"},{text:"Конец вставки.",indentLevel:0,highlightColor:"#cf8859"}],F=[{text:"Ключ искомой вершины меньше, равен или больше ключа в текущей вершине?",indentLevel:0,highlightColor:"#cf8859"},{text:"Если ==: данная вершина есть в дереве.",indentLevel:1,highlightColor:"#e7d0ad"},{text:"Если <: у текущей вершины есть левый ребенок?",indentLevel:1,highlightColor:"#e7d0ad"},{text:"Нет: вершины нет в дереве.",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Есть: текущей вершиной становится левый ребенок текущей вершины",indentLevel:2,highlightColor:"#ECDABF"},{text:"Если >: у текущей вершины есть правый ребенок?",indentLevel:1,highlightColor:"#e7d0ad"},{text:"Нет: вершины нет в дереве.",indentLevel:2,highlightColor:"#ECDABF"},{text:"Есть: текущей вершиной становится правый ребенок текущей вершины",indentLevel:2,highlightColor:"#ECDABF"},{text:"Поиск окончен.",indentLevel:0,highlightColor:"#cf8859"}],A=[{text:"Ключ удаляемой вершины меньше, равен или больше ключа в текущей вершине?",indentLevel:0,highlightColor:"#cf8859"},{text:"Если ==: рассматриваем детей текущей вершины...",indentLevel:1,highlightColor:"#e7d0ad"},{text:"Если нет ни одного ребенка: удаляем данную вершину",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Если нет только левого ребенка: правый ребенок текущей вершины занимает место текущей вершины, становясь новым ребенком отца текущей вершины.",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Есть нет только правого ребенка: левый ребенок текущей вершины занимает место текущей вершины, становясь новым ребенком отца текущей вершины.",indentLevel:2,highlightColor:"#ECDABF"},{text:"Если есть оба ребенка: у правого ребенка удаляемой вершины есть левый ребенок (внук удаляемой вершины)?",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Нет: правый ребенок текущей вершины занимает место текущей вершины.",indentLevel:3,highlightColor:"#e7d0ad"},{text:"Есть: тогда выполним следующие операции...",indentLevel:3,highlightColor:"#e7d0ad"},{text:"Найдем самого левого ребенка правого ребенка удаляемой вершины.",indentLevel:4,highlightColor:"#e7d0ad"},{text:"Ключ самого левого ребенка становится ключом удаляемой вершины.",indentLevel:4,highlightColor:"#e7d0ad"},{text:"Текущей вершиной для удаления становится самый левый ребенок.",indentLevel:4,highlightColor:"#e7d0ad"},{text:"Если <: у текущей вершины есть левый ребенок?",indentLevel:1,highlightColor:"#e7d0ad"},{text:"Нет: вершины для удаления нет в дереве.",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Есть: текущей вершиной становится левый ребенок текущей вершины.",indentLevel:2,highlightColor:"#ECDABF"},{text:"Если >: у текущей вершины есть правый ребенок?",indentLevel:1,highlightColor:"#e7d0ad"},{text:"Нет: вершины для удаления нет в дереве.",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Есть: текущей вершиной становится правый ребенок текущей вершины.",indentLevel:2,highlightColor:"#ECDABF"},{text:"Удаление окончено.",indentLevel:0,highlightColor:"#cf8859"}],M=[{text:"У текущей вершины есть левый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: остаемся в текущей вершине.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Печатаем текущую вершину.",indentLevel:0,highlightColor:"#ECDABF"},{text:"У текущей вершины есть правый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: текущей вершиной становится правый ребенок текущей вершины.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: возвращаемся из данной вершины в родительскую.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Обход закончен.",indentLevel:0,highlightColor:"#cf8859"}],H=[{text:"Печатаем текущую вершину.",indentLevel:0,highlightColor:"#ECDABF"},{text:"У текущей вершины есть левый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: остаемся в текущей вершине.",indentLevel:1,highlightColor:"#ECDABF"},{text:"У текущей вершины есть правый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: текущей вершиной становится правый ребенок текущей вершины.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: возвращаемся из данной вершины в родительскую.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Обход закончен.",indentLevel:0,highlightColor:"#cf8859"}],D=[{text:"У текущей вершины есть левый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: остаемся в текущей вершине.",indentLevel:1,highlightColor:"#ECDABF"},{text:"У текущей вершины есть правый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: текущей вершиной становится правый ребенок текущей вершины.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: остаемся в текущей вершине.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Печатаем текущую вершину и вовзращаемся в родительскую вершину.",indentLevel:0,highlightColor:"#ECDABF"},{text:"Обход закончен.",indentLevel:0,highlightColor:"#cf8859"}],X=[{text:"У текущей вершины есть левый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: текущая вершина является минимумом.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Поиск закончен.",indentLevel:0,highlightColor:"#e7d0ad"}],q=[{text:"У текущей вершины есть правый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Нет: текущая вершина является максимумом.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Поиск закончен.",indentLevel:0,highlightColor:"#e7d0ad"}],R=[{text:"У текущей вершины есть левый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Начинаем операцию поиска максимума из данной вершины...",indentLevel:2,highlightColor:"#ECDABF"},{text:"У текущей вершины есть правый ребенок?",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:3,highlightColor:"#ECDABF"},{text:"Нет: максимумом и предшественником является текущая вершина.",indentLevel:3,highlightColor:"#ECDABF"},{text:"Нет: текущая вершина является предшественником.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Поиск закончен.",indentLevel:0,highlightColor:"#e7d0ad"}],W=[{text:"У текущей вершины есть правый ребенок?",indentLevel:0,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Начинаем операцию поиска минимума из данной вершины...",indentLevel:2,highlightColor:"#ECDABF"},{text:"У текущей вершины есть левый ребенок?",indentLevel:2,highlightColor:"#e7d0ad"},{text:"Есть: переходим в него.",indentLevel:3,highlightColor:"#ECDABF"},{text:"Нет: минимумом и преемником является текущая вершина.",indentLevel:3,highlightColor:"#ECDABF"},{text:"Нет: текущая вершина является преемником.",indentLevel:1,highlightColor:"#ECDABF"},{text:"Поиск закончен.",indentLevel:0,highlightColor:"#e7d0ad"}];function z(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this._treeCanvas=n,this._timeController=r,this._tree=null,this._BasicOperations=null,this._pseudocodeOperationTitle=document.querySelector(".pseudocode__operation-title"),this._buttonClose=document.querySelector(".pseudocode__button"),this._lines=[],this.indentSize=25,this.stepSpeed=null,this.steps=[],this._index=0,this.paused=!1}var t,n,r,i,o;return t=e,(n=[{key:"renderOperation",value:(i=regeneratorRuntime.mark((function e(t,n){var r,i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._treeCanvas.clearTraversedNodes(),this.paused=!1,this._timeController.unblockControllers(),"remove"!==n&&"inorder"!==n&&"preorder"!==n&&"postorder"!==n||this._timeController.blockControllers(),this._index=t,this._treeCanvas.steps=this.steps,this._treeCanvas.latestInsertedNode=null,this._treeCanvas.latestInsertedEdge=null,this.steps.forEach((function(e){return o._treeCanvas.unhighlightNode(e.currentNode)})),0===t&&this._timeController.initializeTimeline(this.steps.length),this.stepSpeed=this._timeController.getCurrentStepSpeed(),r=t;case 12:if(!(r<this.steps.length)){e.next=21;break}if(!this.paused){e.next=15;break}return e.abrupt("return");case 15:return i=this.steps[r],e.next=18,this.makeStep(i.lastStep,i.currentNode,i.nodeToInsert,i.nodeToRemove,i.nodeToChange,i.nodeToTraverse,n);case 18:++r,e.next=12;break;case 21:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function s(e){z(o,n,r,s,a,"next",e)}function a(e){z(o,n,r,s,a,"throw",e)}s(void 0)}))},function(e,t){return o.apply(this,arguments)})},{key:"makeStep",value:function(e,t,n,r,i,o,s){var a=this;if(t&&this._treeCanvas.highlightNode(t),this.highlightLine(this._index),i&&(this._treeCanvas.highlightNode(i.node),this._treeCanvas.changeNodeKey(i.node,i.newKey),i.node.key=i.newKey),r&&"rightChild->parent"===r.mode){var u=r.node;u.key=u.rightChild.key,u.rightChild=u.rightChild.rightChild,u.rightChild&&(u.rightChild.parent=u)}return new Promise((function(u,c){setTimeout((function(){a.paused||(a._index++,t&&a._treeCanvas.unhighlightNode(t),i&&a._treeCanvas.unhighlightNode(i.node),n&&a._treeCanvas.renderElement(n.node,n.childSide),r&&a._treeCanvas.renderTree(a._tree.root),o&&a._treeCanvas.renderTraversedNode(o,s),a._timeController.stepForward(),e&&(a._BasicOperations.unblockOperations(),a._timeController.renderPlayPause("play")),u())}),1e3*a.stepSpeed*!e)}))}},{key:"initializeInsert",value:function(){this._timeController.prevOperationRenderNotFinished&&this._treeCanvas.renderTreeState(this._treeCanvas.steps.length-1),this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="insert";var e=j;this._pseudocodeOperationTitle.textContent="Вставка вершины",this.container.style.height="400px",this.container.style.top="308px",this._buttonClose.style.top="73px",this._renderLines(e)}},{key:"initializeFind",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="find";var e=F;this._pseudocodeOperationTitle.textContent="Поиск вершины",this.container.style.height="330px",this.container.style.top="348px",this._buttonClose.style.top="73px",this._renderLines(e)}},{key:"initializeRemove",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="find";var e=A;this._pseudocodeOperationTitle.textContent="Удаление вершины",this.container.style.height="730px",this.container.style.top="-20px",this._buttonClose.style.top="373px",this._renderLines(e)}},{key:"initializeInOrderTraversal",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="inorder";var e=M;this._pseudocodeOperationTitle.textContent="In-order обход дерева",this.container.style.height="260px",this.container.style.top="400px",this._buttonClose.style.top="53px",this._renderLines(e)}},{key:"initializePreOrderTraversal",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="preorder";var e=H;this._pseudocodeOperationTitle.textContent="Pre-order обход дерева",this.container.style.height="260px",this.container.style.top="400px",this._buttonClose.style.top="53px",this._renderLines(e)}},{key:"initializePostOrderTraversal",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="postorder";var e=D;this._pseudocodeOperationTitle.textContent="Post-order обход дерева",this.container.style.height="260px",this.container.style.top="400px",this._buttonClose.style.top="53px",this._renderLines(e)}},{key:"initializeFindMin",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="findMin";var e=X;this._pseudocodeOperationTitle.textContent="Поиск минимума",this.container.style.height="160px",this.container.style.top="400px",this._buttonClose.style.top="23px",this._renderLines(e)}},{key:"initializeFindMax",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="findMax";var e=q;this._pseudocodeOperationTitle.textContent="Поиск максимума",this.container.style.height="160px",this.container.style.top="400px",this._buttonClose.style.top="23px",this._renderLines(e)}},{key:"initializeFindPredecessor",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="findPredecessor";var e=R;this._pseudocodeOperationTitle.textContent="Поиск предшественника",this.container.style.height="260px",this.container.style.top="400px",this._buttonClose.style.top="53px",this._renderLines(e)}},{key:"initializeFindSuccessor",value:function(){this._clearPseudocodeContainer(),this._treeCanvas.currentOperation="findSuccessor";var e=W;this._pseudocodeOperationTitle.textContent="Поиск преемника",this.container.style.height="260px",this.container.style.top="400px",this._buttonClose.style.top="53px",this._renderLines(e)}},{key:"_renderLines",value:function(e){var t=this;e.forEach((function(e,n){var r=document.createElement("div");0===n&&(r.style["border-top"]="0.1px solid #c3a27b"),r.style["border-bottom"]="0.1px solid #c3a27b",r.classList.add("pseudocode__line-container");var i=document.createElement("p");i.classList.add("pseudocode__line"),i.textContent=e.text,i.style.margin="0 0 0 ".concat(e.indentLevel*t.indentSize,"px"),r.append(i),t.container.append(r),t._lines.push({line:r,props:e})}))}},{key:"_clearPseudocodeContainer",value:function(){this.container.querySelectorAll(".pseudocode__line-container").forEach((function(e){return e.remove()})),this.steps=[],this._lines=[]}},{key:"highlightLine",value:function(e){this.clearLineHighlights();var t=this.steps[e];if(t){var n=this._lines[t.index];n.line.style.background=n.props.highlightColor,n.line.children[0].style["font-weight"]="800"}}},{key:"clearLineHighlights",value:function(){this._lines.forEach((function(e){e.line.style.background="",e.line.children[0].style["font-weight"]="normal"}))}},{key:"linkTree",value:function(e){this._tree=e}},{key:"linkBasicOperations",value:function(e){this._BasicOperations=e}}])&&V(t.prototype,n),r&&V(t,r),e}();n(104);function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pseudocode=null,this._treeCanvas=null,this._playButton=document.querySelector(".js-time-control-play"),this._pauseButton=document.querySelector(".js-time-control-pause"),this._nextStepButton=document.querySelector(".js-time-control-next-step"),this._prevStepButton=document.querySelector(".js-time-control-prev-step"),this._toStartButton=document.querySelector(".js-time-control-to-start"),this._toEndButton=document.querySelector(".js-time-control-to-end"),this._speedPointer=document.querySelector(".time-control__speed-pointer"),this._timeControlButtonsContainer=document.querySelector(".time-control__buttons"),this._timelinePointer=document.querySelector(".time-control__timeline-pointer"),this._timelineCurrentElement=document.querySelector(".time-control__timeline-line"),this._timelineElement=document.querySelector(".time-control__timeline"),this._timelinePointer.ondragstart=function(){return!1},this._speedPointer.ondragstart=function(){return!1},this._timelineTotalWidth=getComputedStyle(this._timelineElement).getPropertyValue("width").slice(0,-2),this._maxStepSpeed=5,this._currentPointerPositionIndex=0,this._timelineParts=[],this._partLength=null,this._timilineInitialized=!1,this._buttonsBlocked=!0,this.prevOperationRenderNotFinished=!1,this.BasicOperations=null,this._mousemoveTimelineHandlerFunction=this._mousemoveTimelinePointerHandler,this._mousemoveTimelineHandlerFunctionObject=this._mousemoveTimelineHandlerFunction.bind(this),this._mousemoveSpeedPointerHandlerFunction=this._mousemoveSpeedPointerHandler,this._mousemoveSpeedPointerHandlerFunctionObject=this._mousemoveSpeedPointerHandlerFunction.bind(this),this._initialXTimelinePointer=null,this._initialXSpeedPointer=null,this._newXTimelinePointer=null,this._newXSpeedPointer=null,this._currentTimelinePointerLeftX=null,this._currentSpeedPointerLeftX=null,this._timelinePointerMoved=!1,this._speedPointerMoved=null,this._speedPointer.addEventListener("mousedown",this._mousedownSpeedPointerHandler.bind(this)),window.addEventListener("mouseup",this._mouseupSpeedPointerHandler.bind(this))}var t,n,r;return t=e,(n=[{key:"initializeTimeline",value:function(e){this._timilineInitialized||(this._timilineInitialized=!0,this._timelinePointer.addEventListener("mousedown",this._mousedownTimelinePointerHandler.bind(this)),window.addEventListener("mouseup",this._mouseupTimelinePointerHandler.bind(this)),this._playButton.addEventListener("click",this.processControlButtton.bind(this)),this._pauseButton.addEventListener("click",this.processControlButtton.bind(this)),this._nextStepButton.addEventListener("click",this.processControlButtton.bind(this)),this._prevStepButton.addEventListener("click",this.processControlButtton.bind(this)),this._toStartButton.addEventListener("click",this.processControlButtton.bind(this)),this._toEndButton.addEventListener("click",this.processControlButtton.bind(this))),this.renderPlayPause("pause"),this._timelineParts=[],this._currentPointerPositionIndex=0,this._timelinePointer.style.left="0px",this._timelineCurrentElement.style.width="0px",this._renderTimelineParts(e)}},{key:"blockControllers",value:function(){this._timelineCurrentElement.style.background="#cccccc",this._timeControlButtonsContainer.style.background="#cccccc",this._buttonsBlocked=!0}},{key:"unblockControllers",value:function(){this._timelineCurrentElement.style.background="#ffc778",this._timeControlButtonsContainer.style.background="#cf8859",this._buttonsBlocked=!1}},{key:"processControlButtton",value:function(e){if(!this._buttonsBlocked){if(e.target.classList.contains("js-time-control-to-start")){if(this.renderPlayPause("play"),this._pseudocode.paused=!0,0===this._currentPointerPositionIndex)return;this._currentPointerPositionIndex=0}else if(e.target.classList.contains("js-time-control-prev-step")){if(this.renderPlayPause("play"),this._pseudocode.paused=!0,0===this._currentPointerPositionIndex)return;--this._currentPointerPositionIndex}else{if(e.target.classList.contains("js-time-control-play"))return this._pseudocode.paused=!1,this._pseudocode.renderOperation(this._currentPointerPositionIndex),this.renderPlayPause("pause");if(e.target.classList.contains("js-time-control-pause"))return this._pseudocode.paused=!0,this.renderPlayPause("play");if(e.target.classList.contains("js-time-control-next-step")){if(this.renderPlayPause("play"),this._pseudocode.paused=!0,this._currentPointerPositionIndex===this._timelineParts.length-1)return;++this._currentPointerPositionIndex}else if(e.target.classList.contains("js-time-control-to-end")){if(this.renderPlayPause("play"),this._pseudocode.paused=!0,this._currentPointerPositionIndex===this._timelineParts.length-1)return;this._currentPointerPositionIndex=this._timelineParts.length-1}}this.prevOperationRenderNotFinished=!0,this._timelinePointer.style.left=this._timelineParts[this._currentPointerPositionIndex]+"px",this._timelineCurrentElement.style.width=this._timelineParts[this._currentPointerPositionIndex]+8+"px",this._currentPointerPositionIndex===this._timelineParts.length-1&&(this.prevOperationRenderNotFinished=!1),this._pseudocode.highlightLine(this._currentPointerPositionIndex),this._treeCanvas.renderTreeState(this._currentPointerPositionIndex)}}},{key:"stepForward",value:function(){this._currentPointerPositionIndex!==this._timelineParts.length-1&&(++this._currentPointerPositionIndex,this._timelinePointer.style.left=this._timelineParts[this._currentPointerPositionIndex]+"px",this._timelineCurrentElement.style.width=this._timelineParts[this._currentPointerPositionIndex]+8+"px",this._currentPointerPositionIndex===this._timelineParts.length-1&&(this.prevOperationRenderNotFinished=!1))}},{key:"getCurrentStepSpeed",value:function(){return(1-Number.parseInt(window.getComputedStyle(this._speedPointer,"style").left)/100)*this._maxStepSpeed}},{key:"renderPlayPause",value:function(e){"play"===e?(this.BasicOperations.unblockOperations(),this._playButton.classList.remove("time-control__button_hidden"),this._pauseButton.classList.add("time-control__button_hidden")):(this.BasicOperations.blockOperations(),this._playButton.classList.add("time-control__button_hidden"),this._pauseButton.classList.remove("time-control__button_hidden"))}},{key:"_renderTimelineParts",value:function(e){this._partLength=(this._timelineTotalWidth-16)/(e-1);for(var t=0;t<e;++t)this._timelineParts.push(t*this._partLength)}},{key:"_mousemoveTimelinePointerHandler",value:function(e){this.prevOperationRenderNotFinished=!0,e.preventDefault(),e.clientX-this._initialXTimelinePointer>this._partLength?(this._pseudocode.paused=!0,this.renderPlayPause("play"),this._currentTimelinePointerLeftX+this._partLength>this._timelineTotalWidth-16?(this._timelinePointer.style.left=this._timelineTotalWidth-16+"px",this._timelineCurrentElement.style.width=this._timelineTotalWidth+"px"):(this._timelinePointer.style.left=this._currentTimelinePointerLeftX+this._partLength+"px",this._timelineCurrentElement.style.width=this._currentTimelinePointerLeftX+this._partLength+8+"px"),++this._currentPointerPositionIndex,this._pseudocode.highlightLine(this._currentPointerPositionIndex),this._treeCanvas.renderTreeState(this._currentPointerPositionIndex),this._initialXTimelinePointer=e.clientX,this._currentTimelinePointerLeftX+=this._partLength):this._initialXTimelinePointer-e.clientX>this._partLength&&(this._pseudocode.paused=!0,this.renderPlayPause("play"),this._currentTimelinePointerLeftX-this._partLength<0?(this._timelinePointer.style.left="0px",this._timelineCurrentElement.style.width="0px"):(this._timelinePointer.style.left=this._currentTimelinePointerLeftX-this._partLength+"px",this._timelineCurrentElement.style.width=this._currentTimelinePointerLeftX-this._partLength+8+"px"),--this._currentPointerPositionIndex,this._pseudocode.highlightLine(this._currentPointerPositionIndex),this._treeCanvas.renderTreeState(this._currentPointerPositionIndex),this._initialXTimelinePointer=e.clientX,this._currentTimelinePointerLeftX-=this._partLength),this._currentPointerPositionIndex===this._timelineParts.length-1&&(this.prevOperationRenderNotFinished=!1)}},{key:"_mousedownTimelinePointerHandler",value:function(e){if(!this._buttonsBlocked){e.preventDefault(),this._timelinePointerMoved=!0,this._initialXTimelinePointer=e.clientX;var t=getComputedStyle(this._timelinePointer);this._currentTimelinePointerLeftX=Number.parseFloat(t.getPropertyValue("left").slice(0,-2)),window.addEventListener("mousemove",this._mousemoveTimelineHandlerFunctionObject)}}},{key:"_mouseupTimelinePointerHandler",value:function(e){this._timelinePointerMoved&&(window.removeEventListener("mousemove",this._mousemoveTimelineHandlerFunctionObject),this._timelinePointerMoved=!1)}},{key:"linkPseudocode",value:function(e){this._pseudocode=e}},{key:"linkTreeCanvas",value:function(e){this._treeCanvas=e}},{key:"linkBasicOperations",value:function(e){this.BasicOperations=e}},{key:"_mousemoveSpeedPointerHandler",value:function(e){e.preventDefault();var t=e.clientX-this._initialXSpeedPointer;this._newXSpeedPointer=this._currentSpeedPointerLeftX+t,this._newXSpeedPointer>=2&&this._newXSpeedPointer<=96&&(this._speedPointer.style.left=this._newXSpeedPointer+"px")}},{key:"_mousedownSpeedPointerHandler",value:function(e){e.preventDefault(),this._speedPointerMoved=!0,this._initialXSpeedPointer=e.clientX;var t=getComputedStyle(this._speedPointer);this._currentSpeedPointerLeftX=Number.parseInt(t.getPropertyValue("left").slice(0,-2)),window.addEventListener("mousemove",this._mousemoveSpeedPointerHandlerFunctionObject)}},{key:"_mouseupSpeedPointerHandler",value:function(e){this._speedPointerMoved&&(window.removeEventListener("mousemove",this._mousemoveSpeedPointerHandlerFunctionObject),this._speedPointerMoved=!1)}}])&&K(t.prototype,n),r&&K(t,r),e}();n(106);function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var $=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pseudocode=r,this._tree=t,this._treeCanvas=n,this.basicOpsWindow=document.querySelector(".basic-operations"),this.basicOpsButton=document.querySelector(".basic-operations__button"),this.basicOpsButton.ondragstart=function(){return!1},this.insertButton=document.querySelector(".basic-operations__operation-title_leaf"),this.insertInput=document.querySelector(".basic-operations__input_leaf"),this.findButton=document.querySelector(".basic-operations__operation-title_apple"),this.findInput=document.querySelector(".basic-operations__input_apple"),this.removeButton=document.querySelector(".basic-operations__operation-title_cross"),this.clearButton=document.querySelector(".clear-button"),this.middlePart=document.querySelector(".middle-part"),this.canvas=document.getElementById("canvas"),this.TreeNode=i.treeNode,this.operationsBlocked=!1,this.insertButton.addEventListener("click",this.insertButtonHandler.bind(this)),this.findButton.addEventListener("click",this.findButtonHandler.bind(this)),this.removeButton.addEventListener("click",this.removeButtonHandler.bind(this)),this.clearButton.addEventListener("click",this.clearCanvasHandler.bind(this)),this.basicOpsButton.addEventListener("mousedown",this._mousedownBasicOpsButtonHandler.bind(this)),window.addEventListener("mouseup",this._mouseupBasicOpsButtonHandler.bind(this)),this.initialXBasOp=null,this.newXBasOp=null,this.currentBasicOpsWindowLeftX=null,this.basicOpsButtonMoved=!1,this._nodeHandlerFunction=this.nodeHandler,this._nodeHandlerFunctionObject=this._nodeHandlerFunction.bind(this),this._mousemoveBasicOpsHandlerFunction=this._mousemoveBasicOpsButtonHandler,this._mousemoveBasicOpsHandlerFunctionObject=this._mousemoveBasicOpsHandlerFunction.bind(this)}var t,n,r;return t=e,(n=[{key:"blockOperations",value:function(){this.operationsBlocked=!0,this.insertButton.style.color="#cccccc",this.findButton.style.color="#cccccc",this.removeButton.style.color="#cccccc",this.clearButton.style.background="#cccccc",this.insertButton.style.cursor="auto",this.findButton.style.cursor="auto",this.removeButton.style.cursor="auto",this.clearButton.style.cursor="auto",this.clearButton.style.background="#cccccc",this.insertButton.style["-webkit-text-stroke"]="0px",this.findButton.style["-webkit-text-stroke"]="0px",this.removeButton.style["-webkit-text-stroke"]="0px"}},{key:"unblockOperations",value:function(){this.operationsBlocked=!1,this.insertButton.style.color="#fff",this.findButton.style.color="#fff",this.removeButton.style.color="#fff",this.clearButton.style.background="rgba(218, 173, 108, .6)",this.insertButton.style.cursor="pointer",this.findButton.style.cursor="pointer",this.removeButton.style.cursor="pointer",this.clearButton.style.cursor="pointer",this.insertButton.style["-webkit-text-stroke"]="1px #8ab04a",this.findButton.style["-webkit-text-stroke"]="1px #e23d3d",this.removeButton.style["-webkit-text-stroke"]="1px #5f422f"}},{key:"insertButtonHandler",value:function(e){if(!this.operationsBlocked){var t=Number.parseInt(this.insertInput.value);if(Number.isNaN(t))return alert("Не указана вершина для вставки.");try{this._pseudocode.steps=[],this._pseudocode.initializeInsert(),this._tree.insert(new this.TreeNode(t)),this._pseudocode.renderOperation(0,"insert")}catch(e){alert(e.message)}}}},{key:"findButtonHandler",value:function(e){if(!this.operationsBlocked){var t=Number.parseInt(this.findInput.value);try{this._pseudocode.initializeFind();var n=this._tree.find(t);this._pseudocode.renderOperation(0,"find"),n?alert("Вершина найдена"):alert("Вершина не найдена")}catch(e){alert(e.message)}}}},{key:"removeButtonHandler",value:function(e){this.operationsBlocked||(this.middlePart.classList.add("middle-part_delete-mode"),this.removeButton.classList.add("basic-operations__operation-title_delete-mode"),this.canvas.addEventListener("click",this._nodeHandlerFunctionObject))}},{key:"clearCanvasHandler",value:function(e){this.operationsBlocked||(this._treeCanvas.clearCanvas(),this._tree.root=null)}},{key:"nodeHandler",value:function(e){e.target.closest(".node")?(this._pseudocode.initializeRemove(),this._tree.remove(Number.parseInt(e.target.closest(".node").getAttribute("id"))),this.canvas.removeEventListener("click",this._nodeHandlerFunctionObject),this.middlePart.classList.remove("middle-part_delete-mode"),this.removeButton.classList.remove("basic-operations__operation-title_delete-mode")):e.target.classList.contains("basic-operations__operation-title_cross")||(this.canvas.removeEventListener("click",this._nodeHandlerFunctionObject),this.middlePart.classList.remove("middle-part_delete-mode"),this.removeButton.classList.remove("basic-operations__operation-title_delete-mode"))}},{key:"_mousemoveBasicOpsButtonHandler",value:function(e){e.preventDefault();var t=e.clientX-this.initialXBasOp;this.newXBasOp=this.currentBasicOpsWindowLeftX+t,this.newXBasOp>=-290&&this.newXBasOp<=0&&(this.basicOpsWindow.style.left=this.newXBasOp+"px")}},{key:"_mousedownBasicOpsButtonHandler",value:function(e){e.preventDefault(),this.basicOpsButtonMoved=!0,this.initialXBasOp=e.clientX;var t=getComputedStyle(this.basicOpsWindow);this.currentBasicOpsWindowLeftX=Number.parseInt(t.getPropertyValue("left").slice(0,-2)),window.addEventListener("mousemove",this._mousemoveBasicOpsHandlerFunctionObject)}},{key:"_mouseupBasicOpsButtonHandler",value:function(e){this.basicOpsButtonMoved&&(this._processWindowPosition(),window.removeEventListener("mousemove",this._mousemoveBasicOpsHandlerFunctionObject),this.basicOpsButtonMoved=!1)}},{key:"_processWindowPosition",value:function(){this.newXBasOp>-145?(this.basicOpsWindow.style.left="0px",this.basicOpsButton.classList.remove("basic-operations__button_open")):(this.basicOpsWindow.style.left="-290px",this.basicOpsButton.classList.add("basic-operations__button_open"))}}])&&U(t.prototype,n),r&&U(t,r),e}();function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tree=t,this._treeCanvas=n,this._TreeNode=r.treeNode,this._menuButton=document.querySelector(".header__menu-button"),this._createTreeButton=document.querySelector(".js-create-tree"),this._createRandomTreeButton=document.querySelector(".js-random-tree"),this._createWorstTreeButton=document.querySelector(".js-worst-tree"),this._createMiddleTreeButton=document.querySelector(".js-middle-tree"),this._createBestTreeButton=document.querySelector(".js-best-tree"),this._saveConfigButton=document.querySelector(".js-save-config"),this._loadConfigButton=document.querySelector(".js-load-config"),this._menu=document.querySelector(".menu"),this._suboptions=document.querySelector(".menu__suboptions"),this._randomTreeNodeNumber=6,this._menuButton.addEventListener("click",this._menuButtonHandler.bind(this)),this._createTreeButton.addEventListener("click",this._menuCreateTreeButtonHandler.bind(this)),this._createRandomTreeButton.addEventListener("click",this._createRandomTree.bind(this)),this._createWorstTreeButton.addEventListener("click",this._createWorstCaseTree.bind(this)),this._createMiddleTreeButton.addEventListener("click",this._createMiddleCaseTree.bind(this)),this._createBestTreeButton.addEventListener("click",this._createBestCaseTree.bind(this)),this._saveConfigButton.addEventListener("click",this._saveConfig.bind(this)),this._loadConfigButton.addEventListener("click",this._loadConfig.bind(this))}var t,n,r;return t=e,(n=[{key:"_createRandomTree",value:function(){this._tree.root=null;for(var e=0;e!=this._randomTreeNodeNumber;++e){var t=this._randomInteger(0,100);this._tree.insert(new this._TreeNode(t)),this._treeCanvas.renderTree(this._tree.root)}}},{key:"_createWorstCaseTree",value:function(){this._tree.root=null;for(var e=this._randomInteger(0,1),t=0;t<this._randomTreeNodeNumber;++t){var n=e?this._randomInteger(10*t,10*(t+1)):this._randomInteger(10*(this._randomTreeNodeNumber-t-1),10*(this._randomTreeNodeNumber-t));this._tree.insert(new this._TreeNode(n))}this._treeCanvas.renderTree(this._tree.root)}},{key:"_createMiddleCaseTree",value:function(){this._tree.root=null;var e,t=this._randomInteger(200,1e3),n=this._randomInteger(2,6);this._tree.insert(new this._TreeNode(t));for(var r=0;r<n;++r){e=this._randomInteger(0,t/2);var i=this._randomInteger(t,t+e);this._tree.insert(new this._TreeNode(i))}n=this._randomInteger(2,6);for(var o=0;o<n;++o){e=this._randomInteger(0,t/2);var s=this._randomInteger(t-e,t);this._tree.insert(new this._TreeNode(s))}this._treeCanvas.renderTree(this._tree.root)}},{key:"_createBestCaseTree",value:function(){this._tree.root=null;var e=this._randomInteger(200,1e3),t=this._randomInteger(0,e/2),n=this._randomInteger(1,5);this._tree.insert(new this._TreeNode(e)),this.renderBestLevel(1,e,n,t),this._treeCanvas.renderTree(this._tree.root)}},{key:"renderBestLevel",value:function(e,t,n,r){if(!(e>n)){var i=Math.floor(t+r),o=Math.floor(t-r);this._tree.insert(new this._TreeNode(i)),this._tree.insert(new this._TreeNode(o)),r/=2,++e,this.renderBestLevel(e,i,n,r),this.renderBestLevel(e,o,n,r)}}},{key:"_saveConfig",value:function(){}},{key:"_loadConfig",value:function(){}},{key:"_menuButtonHandler",value:function(e){this._menu.classList.toggle("menu_is-opened")}},{key:"_menuCreateTreeButtonHandler",value:function(e){this._suboptions.classList.toggle("menu__suboptions_is-opened")}},{key:"_randomInteger",value:function(e,t){var n=e+Math.random()*(t+1-e);return Math.floor(n)}}])&&J(t.prototype,n),r&&J(t,r),e}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tree=t,this._treeCanvas=n,this._pseudocode=r,this._inOrderButton=document.querySelector(".js-inorder-button"),this._preOrderButton=document.querySelector(".js-preorder-button"),this._postOrderButton=document.querySelector(".js-postorder-button"),this._inOrderButton.addEventListener("click",this._inOrderTraversal.bind(this)),this._preOrderButton.addEventListener("click",this._preOrderTraversal.bind(this)),this._postOrderButton.addEventListener("click",this._postOrderTraversal.bind(this))}var t,n,r;return t=e,(n=[{key:"_inOrderTraversal",value:function(){this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializeInOrderTraversal();try{this._tree.inOrderTraversal(),this._pseudocode.steps.push({index:7,lastStep:1}),this._pseudocode.renderOperation(0,"inorder")}catch(e){alert(e.message)}}},{key:"_preOrderTraversal",value:function(){this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializePreOrderTraversal();try{this._tree.preOrderTraversal(),this._pseudocode.steps.push({index:7,lastStep:1}),this._pseudocode.renderOperation(0,"preorder")}catch(e){alert(e.message)}}},{key:"_postOrderTraversal",value:function(){this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializePostOrderTraversal();try{this._tree.postOrderTraversal(),this._pseudocode.steps.push({index:7,lastStep:1}),this._pseudocode.renderOperation(0,"postorder")}catch(e){alert(e.message)}}}])&&Z(t.prototype,n),r&&Z(t,r),e}();function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ne=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tree=t,this._treeCanvas=n,this._pseudocode=r,this.operationsBlocked=!1,this.middlePart=document.querySelector(".middle-part"),this.canvas=document.getElementById("canvas"),this._findMinButton=document.querySelector(".js-find-min-button"),this._findMaxButton=document.querySelector(".js-find-max-button"),this._findSuccessorButton=document.querySelector(".js-find-successor-button"),this._findPredecessorButton=document.querySelector(".js-find-predecessor-button"),this._findMinButton.addEventListener("click",this._findMin.bind(this)),this._findMaxButton.addEventListener("click",this._findMax.bind(this)),this._findPredecessorButton.addEventListener("click",this._findPredecessorButtonHandler.bind(this)),this._findSuccessorButton.addEventListener("click",this._findSuccessorButtonHandler.bind(this)),this._findPredecessorFunction=this._findPredecessor,this._findPredecessorFunctionObject=this._findPredecessorFunction.bind(this),this._findSuccessorFunction=this._findSuccessor,this._findSuccessorFunctionObject=this._findSuccessorFunction.bind(this)}var t,n,r;return t=e,(n=[{key:"_findMin",value:function(){if(!this.operationsBlocked)try{this._tree.findMin(),this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializeFindMin(),this._pseudocode.renderOperation(0,"findMin")}catch(e){alert(e.message)}}},{key:"_findMax",value:function(){if(!this.operationsBlocked)try{this._tree.findMax(),this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializeFindMax(),this._pseudocode.renderOperation(0,"findMax")}catch(e){alert(e.message)}}},{key:"_findPredecessorButtonHandler",value:function(){this.operationsBlocked||(this.middlePart.classList.add("middle-part_find-node-mode"),this._findPredecessorButton.classList.add("task__option_find-node-mode"),this.canvas.addEventListener("click",this._findPredecessorFunctionObject))}},{key:"_findSuccessorButtonHandler",value:function(){this.operationsBlocked||(this.middlePart.classList.add("middle-part_find-node-mode"),this._findSuccessorButton.classList.add("task__option_find-node-mode"),this.canvas.addEventListener("click",this._findSuccessorFunctionObject))}},{key:"_findPredecessor",value:function(){if(event.target.closest(".node")){var e=Number.parseInt(event.target.closest(".node").id),t=this._tree.find(e);this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializeFindPredecessor(),this._tree.findPredecessor(t),this._pseudocode.renderOperation(0,"findPredecessor"),this.canvas.removeEventListener("click",this._findPredecessorFunctionObject),this.middlePart.classList.remove("middle-part_find-node-mode"),this._findPredecessorButton.classList.remove("task__option_find-node-mode")}else event.target.classList.contains("js-find-predecessor-button")||(this.canvas.removeEventListener("click",this._findPredecessorFunctionObject),this.middlePart.classList.remove("middle-part_find-node-mode"),this._findPredecessorButton.classList.remove("task__option_find-node-mode"))}},{key:"_findSuccessor",value:function(){if(event.target.closest(".node")){var e=Number.parseInt(event.target.closest(".node").id),t=this._tree.find(e);this._treeCanvas.clearTraversedNodes(),this._pseudocode.initializeFindSuccessor(),this._tree.findSuccessor(t),this._pseudocode.renderOperation(0,"findSuccessor"),this.canvas.removeEventListener("click",this._findSuccessorFunctionObject),this.middlePart.classList.remove("middle-part_find-node-mode"),this._findSuccessorButton.classList.remove("task__option_find-node-mode")}else event.target.classList.contains("js-find-successor-button")||(this.canvas.removeEventListener("click",this._findSuccessorFunctionObject),this.middlePart.classList.remove("middle-part_find-node-mode"),this._findSuccessorButton.classList.remove("task__option_find-node-mode"))}}])&&te(t.prototype,n),r&&te(t,r),e}();a.addEventListener("mousedown",(function(e){e.preventDefault(),l=!0,r=e.clientX;var t=getComputedStyle(a);o=Number.parseInt(t.getPropertyValue("left").slice(0,-2)),window.addEventListener("mousemove",h)})),window.addEventListener("mouseup",(function(e){l&&(i>30?(a.style.left=d+"px",s.classList.remove("switch__rectangle_off"),u.classList.remove("avl__title_off"),c.textContent="(AVL)"):(a.style.left=0,s.classList.add("switch__rectangle_off"),u.classList.add("avl__title_off"),c.textContent=""),window.removeEventListener("mousemove",h),l=!1)})),m.addEventListener("mousedown",(function(e){e.preventDefault(),g=!0,p=e.clientX;var t=getComputedStyle(_);v=Number.parseInt(t.getPropertyValue("right").slice(0,-2)),window.addEventListener("mousemove",y)})),window.addEventListener("mouseup",(function(e){g&&(f>-198?(_.style.right="0px",m.classList.add("theory__button_close")):(_.style.right="-397px",m.classList.remove("theory__button_close")),window.removeEventListener("mousemove",y),g=!1)})),L.addEventListener("mousedown",(function(e){e.preventDefault(),w=!0,x=e.clientX;var t=getComputedStyle(S);b=Number.parseInt(t.getPropertyValue("right").slice(0,-2)),window.addEventListener("mousemove",P)})),window.addEventListener("mouseup",(function(e){w&&(C>-193?(S.style.right="0px",L.classList.add("pseudocode__button_close")):(S.style.right="-386px",L.classList.remove("pseudocode__button_close")),window.removeEventListener("mousemove",P),w=!1)}));var re=new I(Snap("#canvas")),ie=new Y,oe=new G(S,re,ie),se=new E(null,re,oe);new Q(se,re,{treeNode:B});oe.linkTree(se),ie.linkPseudocode(oe),ie.linkTreeCanvas(re);var ae=new $(se,re,oe,{treeNode:B});ie.linkBasicOperations(ae),oe.linkBasicOperations(ae);new ee(se,re,oe),new ne(se,re,oe)}]);